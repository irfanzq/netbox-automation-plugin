<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dark Mode Preview - VLAN Deployment Fixes (Real Colors)</title>
    
    <!-- Bootstrap CSS (for Select2 compatibility) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Select2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css" rel="stylesheet" />
    
    <!-- jQuery (required for Select2) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Select2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    
    <style>
        /* EXACT COLORS FROM VLAN DEPLOYMENT TEMPLATE */
        body {
            background-color: #1a1a1a; /* NetBox dark background */
            color: #ffffff;
            padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        
        .preview-section {
            background-color: #2a2a2a; /* Exact color from template */
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
            border: 1px solid #495057; /* Exact border color */
        }
        
        .preview-section h3 {
            color: #ffffff !important; /* White text */
            margin-bottom: 15px;
            border-bottom: 2px solid #495057;
            padding-bottom: 10px;
        }
        
        /* Form controls - EXACT colors from template */
        .form-control,
        .form-select,
        select.form-control,
        select.form-select,
        textarea.form-control {
            background-color: #2a2a2a !important; /* Exact from template */
            color: #ffffff !important; /* Exact from template */
            border-color: #495057 !important; /* Exact from template */
        }
        
        .form-control::placeholder {
            color: #adb5bd !important; /* Exact from template */
            opacity: 0.7;
        }
        
        .form-control:focus {
            background-color: #2a2a2a !important;
            color: #ffffff !important;
            border-color: #86b7fe !important;
        }
        
        /* Select2 - EXACT colors from template */
        .select2-container--default .select2-selection--multiple,
        .select2-container--default .select2-selection--single {
            background-color: #2a2a2a !important; /* Exact from template */
            color: #ffffff !important; /* Exact from template */
            border-color: #495057 !important; /* Exact from template */
        }
        
        .select2-container--default .select2-selection--multiple .select2-selection__rendered {
            color: #ffffff !important; /* Exact from template */
        }
        
        .select2-container--default .select2-selection--multiple .select2-selection__choice {
            background-color: #495057 !important; /* Exact from template */
            color: #ffffff !important; /* Exact from template */
            border-color: #6c757d !important; /* Exact from template */
        }
        
        .select2-container--default .select2-selection--multiple .select2-selection__choice__display {
            color: #ffffff !important; /* Exact from template */
        }
        
        .select2-container--default .select2-selection--multiple .select2-selection__choice__remove {
            color: #ffffff !important; /* Exact from template */
        }
        
        .select2-container--default .select2-selection--multiple .select2-selection__choice__remove:hover {
            color: #ff6b6b !important; /* Exact from template */
        }
        
        .select2-container--default .select2-search--inline .select2-search__field {
            background-color: transparent !important;
            color: #ffffff !important; /* Exact from template */
        }
        
        .select2-container--default .select2-search--inline .select2-search__field::placeholder {
            color: #adb5bd !important; /* Exact from template */
            opacity: 1 !important;
        }
        
        .select2-container--default .select2-results__option {
            background-color: #2a2a2a !important; /* Exact from template */
            color: #ffffff !important; /* Exact from template */
        }
        
        .select2-container--default .select2-results__option--highlighted {
            background-color: #0d6efd !important; /* Exact from template */
            color: #fff !important;
        }
        
        .select2-dropdown {
            background-color: #2a2a2a !important; /* Exact from template */
            border-color: #495057 !important; /* Exact from template */
        }
        
        .select2-search--dropdown .select2-search__field {
            background-color: #2a2a2a !important; /* Exact from template */
            color: #ffffff !important; /* Exact from template */
            border-color: #495057 !important; /* Exact from template */
        }
        
        .select2-search--dropdown .select2-search__field::placeholder {
            color: #adb5bd !important; /* Exact from template */
            opacity: 1 !important;
        }
        
        .select2-results__message {
            background-color: #2a2a2a !important; /* Exact from template */
            color: #ffffff !important; /* Exact from template */
        }
        
        .select2-container--default.select2-container--focus .select2-selection--multiple,
        .select2-container--default.select2-container--open .select2-selection--multiple {
            background-color: #2a2a2a !important; /* Exact from template */
        }
        
        /* Error messages - EXACT colors from template (UPDATED: light white text) */
        .alert-danger {
            background-color: #5a1a1a !important; /* Dark red background - exact from template */
            color: #ffffff !important; /* Light white text - UPDATED for visibility */
            border-color: #dc3545 !important; /* Exact from template */
        }
        
        .invalid-feedback {
            color: #ff6b6b !important; /* Light red - exact from template */
        }
        
        .text-danger {
            color: #ff6b6b !important; /* Light red - exact from template */
        }
        
        /* Labels and help text - EXACT colors from template */
        .form-label {
            color: #ffffff !important; /* Exact from template */
        }
        
        .form-text {
            color: #adb5bd !important; /* Exact from template */
            opacity: 1 !important;
        }
        
        .text-muted {
            color: #adb5bd !important; /* Exact from template */
            opacity: 1 !important;
        }
        
        /* Card styling - matching NetBox */
        .card {
            background-color: #2a2a2a; /* Exact from template */
            border-color: #495057; /* Exact from template */
        }
        
        .card-header {
            background-color: #343a40; /* NetBox dark header */
            color: #ffffff;
            border-bottom-color: #495057;
        }
        
        .card-body {
            background-color: #2a2a2a; /* Exact from template */
            color: #ffffff;
        }
        
        /* Instructions box */
        .instructions {
            background-color: #1e3a5f;
            color: #ffffff;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            border-left: 4px solid #0d6efd;
        }
        
        .instructions h4 {
            margin-top: 0;
            color: #ffffff;
        }
        
        .instructions ul {
            margin-bottom: 0;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        /* Color reference box */
        .color-ref {
            background-color: #2a2a2a;
            border: 1px solid #495057;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .color-ref h5 {
            color: #ffffff;
            margin-bottom: 10px;
        }
        
        .color-swatch {
            display: inline-block;
            width: 30px;
            height: 30px;
            border: 1px solid #495057;
            margin-right: 10px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="color: #ffffff; margin-bottom: 30px;">Dark Mode Preview - VLAN Deployment (Real Colors)</h1>
        
        <div class="color-ref">
            <h5>Color Reference (Exact from Template):</h5>
            <div style="margin-bottom: 10px;">
                <span class="color-swatch" style="background-color: #2a2a2a;"></span>
                <span style="color: #ffffff;">Input Background: #2a2a2a</span>
            </div>
            <div style="margin-bottom: 10px;">
                <span class="color-swatch" style="background-color: #495057;"></span>
                <span style="color: #ffffff;">Selected Item Background: #495057</span>
            </div>
            <div style="margin-bottom: 10px;">
                <span class="color-swatch" style="background-color: #5a1a1a;"></span>
                <span style="color: #ffffff;">Error Background: #5a1a1a (Dark Red)</span>
            </div>
            <div style="margin-bottom: 10px;">
                <span class="color-swatch" style="background-color: #ffffff; border: 1px solid #495057;"></span>
                <span style="color: #ffffff;">Text Color: #ffffff (White)</span>
            </div>
            <div style="margin-bottom: 10px;">
                <span class="color-swatch" style="background-color: #ff6b6b;"></span>
                <span style="color: #ffffff;">Error Text: #ff6b6b (Light Red)</span>
            </div>
        </div>
        
        <div class="instructions">
            <h4>What to Test:</h4>
            <ul>
                <li><strong>Devices Field (Select2):</strong> Click to open dropdown, select items, type to search - text should be white (#ffffff) on dark background (#2a2a2a)</li>
                <li><strong>Error Messages:</strong> Should have dark red background (#5a1a1a) with light white text (#ffffff) - UPDATED for better visibility</li>
                <li><strong>Input Fields:</strong> Should have dark background (#2a2a2a) with white text (#ffffff) when typing</li>
                <li><strong>Selected Items:</strong> Should show white text (#ffffff) on dark grey background (#495057)</li>
                <li><strong>Dropdown Options:</strong> Should show white text (#ffffff) on dark background (#2a2a2a)</li>
            </ul>
        </div>
        
        <!-- Section 1: Devices Field (Select2 Multi-select) -->
        <div class="preview-section">
            <h3>1. Devices Field (Select2 Multi-select)</h3>
            <p class="form-text">This is the main devices field. Try selecting multiple devices, typing to search, and checking the dropdown.</p>
            
            <label for="devices-select" class="form-label">Devices *</label>
            <select class="form-control" id="devices-select" multiple="multiple" style="width: 100%;">
                <option value="device1">stg1-leaf-01</option>
                <option value="device2">stg1-leaf-02</option>
                <option value="device3">stg1-leaf-03</option>
                <option value="device4">stg1-mgmt-01</option>
                <option value="device5">a1-7-cpu</option>
                <option value="device6">prod-leaf-01</option>
            </select>
            <div class="form-text">Select one or more devices. Interfaces will be filtered to show only those common to all selected devices.</div>
        </div>
        
        <!-- Section 2: Error Messages -->
        <div class="preview-section">
            <h3>2. Error Messages (UPDATED: Light White Text)</h3>
            <p class="form-text">Error messages should have dark red background (#5a1a1a) with light white text (#ffffff) for better visibility.</p>
            
            <div class="alert alert-danger" role="alert">
                <strong>Error:</strong> Please contact an administrator.<br>
                <small>ValueError: unexpected '{' in field name</small>
            </div>
            
            <div class="alert alert-danger" role="alert">
                <strong>Validation Error:</strong> Please select at least one device for single device deployment.
            </div>
            
            <div class="invalid-feedback d-block">
                This is an invalid feedback message (light red text #ff6b6b).
            </div>
            
            <p class="text-danger">This is a text-danger message (light red text #ff6b6b).</p>
        </div>
        
        <!-- Section 3: Regular Input Fields -->
        <div class="preview-section">
            <h3>3. Regular Input Fields</h3>
            <p class="form-text">Type in these fields - text should be white (#ffffff) on dark background (#2a2a2a).</p>
            
            <div class="mb-3">
                <label for="vlan-id" class="form-label">VLAN ID</label>
                <input type="text" class="form-control" id="vlan-id" placeholder="Type VLAN ID (e.g., 100)" value="">
                <div class="form-text">Click on the input field above to see available VLANs in the dropdown menu.</div>
            </div>
            
            <div class="mb-3">
                <label for="interfaces-manual" class="form-label">Additional Interfaces</label>
                <textarea class="form-control" id="interfaces-manual" rows="2" placeholder="Enter additional interface names separated by commas (e.g., swp1, swp2, bond1)"></textarea>
                <div class="form-text">Enter additional interface names separated by commas or use ranges (e.g., swp1-48, Ethernet1-24).</div>
            </div>
        </div>
        
        <!-- Section 4: Single Select Dropdown -->
        <div class="preview-section">
            <h3>4. Single Select Dropdown</h3>
            <p class="form-text">Regular select dropdown - should have dark background (#2a2a2a) with white text (#ffffff).</p>
            
            <div class="mb-3">
                <label for="site-select" class="form-label">Site</label>
                <select class="form-select" id="site-select">
                    <option value="">Select site</option>
                    <option value="b52">B52</option>
                    <option value="prod">Production</option>
                    <option value="staging">Staging</option>
                </select>
            </div>
        </div>
        
        <!-- Section 5: Card Example (like NetBox) -->
        <div class="preview-section">
            <h3>5. Card Example (NetBox Style)</h3>
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">VLAN Deployment</h5>
                </div>
                <div class="card-body">
                    <p>Deploy VLAN configurations to network devices and update NetBox interface assignments. Phase 1: Access mode (untagged) only.</p>
                    
                    <div class="mb-3">
                        <label class="form-label">Deployment Scope</label>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="scope" id="scope-single" value="single" checked>
                            <label class="form-check-label" for="scope-single">Single Device</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="scope" id="scope-group" value="group">
                            <label class="form-check-label" for="scope-group">Device Group (by Site, Location, and Role)</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Section 6: Selected Items Display -->
        <div class="preview-section">
            <h3>6. Selected Items Display</h3>
            <p class="form-text">When you select devices above, they should appear here with white text (#ffffff) on dark grey background (#495057).</p>
            <div id="selected-display" style="min-height: 50px; padding: 10px; background-color: #2a2a2a; border: 1px solid #495057; border-radius: 4px;">
                <small class="text-muted">Select devices above to see them displayed here...</small>
            </div>
        </div>
    </div>
    
    <script>
        // Initialize Select2
        $(document).ready(function() {
            $('#devices-select').select2({
                theme: 'bootstrap-5',
                placeholder: 'Select devices...',
                allowClear: true
            });
            
            // Show selected items
            $('#devices-select').on('change', function() {
                const selected = $(this).val();
                const display = $('#selected-display');
                if (selected && selected.length > 0) {
                    display.html('<strong style="color: #ffffff;">Selected Devices:</strong><br>' + 
                        selected.map(function(id) {
                            const text = $('#devices-select option[value="' + id + '"]').text();
                            return '<span style="display: inline-block; background-color: #495057; color: #ffffff; padding: 4px 8px; margin: 4px; border-radius: 4px; border: 1px solid #6c757d;">' + text + '</span>';
                        }).join(''));
                } else {
                    display.html('<small class="text-muted">Select devices above to see them displayed here...</small>');
                }
            });
        });
        
        // Force dark mode styling on dynamically added elements
        function applyDarkModeStyles() {
            // Ensure all Select2 elements have proper colors
            $('.select2-selection--multiple, .select2-selection--single').css({
                'background-color': '#2a2a2a',
                'color': '#ffffff',
                'border-color': '#495057'
            });
            
            $('.select2-selection__choice').css({
                'background-color': '#495057',
                'color': '#ffffff',
                'border-color': '#6c757d'
            });
            
            $('.select2-search__field').css({
                'background-color': 'transparent',
                'color': '#ffffff'
            });
        }
        
        // Apply on Select2 events
        $(document).on('select2:open select2:select select2:unselect', function() {
            setTimeout(applyDarkModeStyles, 50);
        });
        
        // Initial apply
        setTimeout(applyDarkModeStyles, 500);
    </script>
</body>
</html>
